{{- $models := include "llm-service.mergeModels" . | fromJson }}
{{- $deployModels := include "llm-service.deployModels" $models | fromJson }}
{{- range $key, $model := $deployModels }}
---
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: {{ $key }}
  annotations:
    "helm.sh/resource-policy": keep
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: {{ $model.storageSize | default "50Gi" }}
  volumeMode: Filesystem
{{- end }}
