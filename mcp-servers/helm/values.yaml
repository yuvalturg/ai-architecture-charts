# MCP servers configuration
mcp-servers:
  weather:
    enabled: true
    # Deployment mode: auto, mcpserver, or deployment
    # - auto: Use MCPServer if Toolhive is available, otherwise use Deployment (default)
    # - mcpserver: Always use MCPServer (requires Toolhive)
    # - deployment: Always use Deployment (ignore Toolhive)
    deploymentMode: deployment
    image:
      repository: quay.io/rh-ai-quickstart/mcp-weather
      tag: ""  # Defaults to .Chart.Version
    transport: sse
    targetPort: 8000
  
  oracle-sqlcl:
    # Oracle SQLcl MCP Server configuration
    # NOTE: Requires Oracle database and oracle-db secret to exist
    enabled: false  # Oracle DB is available
    deploymentMode: mcpserver  # auto, mcpserver, or deployment
    port: 8080
    proxyMode: streamable-http
    transport: stdio
    image:
      repository: quay.io/rh-ai-quickstart/oracle-sqlcl
      tag: ""  # Defaults to .Chart.Version
    permissionProfile:
      name: network
      type: builtin
    # List of Oracle user secrets to mount
    # Each secret will be mounted at /user-secrets/<secret-name>
    oracleUserSecrets:
      - oracle-db-user-sales-reader
    env:
      JAVA_TOOL_OPTIONS: "-Djava.io.tmpdir=/sqlcl-home/tmp"
      _JAVA_OPTIONS: ""
      HOME: "/sqlcl-home"
    resources:
      requests:
        cpu: 500m
        memory: 512Mi
      limits:
        cpu: 1000m
        memory: 1Gi
    securityContext:
      allowPrivilegeEscalation: false
      capabilities:
        drop:
          - ALL
    podSecurityContext:
      fsGroup: 0
      fsGroupChangePolicy: OnRootMismatch
      seccompProfile:
        type: RuntimeDefault
    volumes:
      - name: sqlcl-data
        ephemeral:
          volumeClaimTemplate:
            spec:
              accessModes:
                - ReadWriteOnce
              storageClassName: gp3-csi
              resources:
                requests:
                  storage: 5Gi
    volumeMounts:
      - name: sqlcl-data
        mountPath: /sqlcl-home
